<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/project/docs/PLANTILLA_FILLED.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/project/docs/PLANTILLA_FILLED.md" />
              <option name="originalContent" value="---&#10;title: &quot;Plantilla entregable — Proyecto UT1 RA1&quot;&#10;tags: [&quot;UT1&quot;,&quot;RA1&quot;,&quot;docs&quot;]&#10;version: &quot;1.0.1&quot;&#10;owner: &quot;equipo-alumno&quot;&#10;status: &quot;final&quot;&#10;---&#10;&#10;# 1. Objetivo&#10;Transformar los CSV de ventas, productos y clientes en datos limpios (plata) y agregados (oro) básicos, demostrando trazabilidad, calidad y cálculo de KPI (ingresos, ticket medio, top productos).&#10;&#10;# 2. Alcance&#10;Incluye ingestión batch, limpieza (tipado, validaciones, dedupe &quot;último gana&quot;), cuarentena de filas inválidas y generación de artefactos analíticos (Parquet + SQLite + reporte). No incluye procesos en tiempo real ni enriquecimientos externos.&#10;&#10;# 3. Decisiones / Reglas&#10;- Clave natural ventas: (fecha, id_cliente, id_producto) → último gana por _ingest_ts.&#10;- Validaciones: fecha ISO, unidades &gt;=0, precio_unitario &gt;=0, id_producto ^P[0-9]+$.&#10;- Campos obligatorios: fecha, id_cliente, id_producto, unidades, precio_unitario.&#10;- Filas inválidas → quarantine con motivo.&#10;&#10;# 4. Procedimiento reproducible&#10;1. Ejecutar: `py -3 project/ingest/run.py`&#10;2. Revisar artefactos en project/output/ (Parquet, ut1.db, reporte.md).&#10;3. Consultar KPI vía vistas/SQL.&#10;&#10;# 5. Evidencias&#10;- Filas raw: 26&#10;- Filas clean: 20&#10;- Filas quarantine: 6&#10;- Periodo: 2025-07-07 → 2025-07-07&#10;&#10;# 6. Resultados / KPI&#10;- Ingresos totales: 24745.00&#10;- Ticket medio: 1237.25&#10;- Transacciones: 20&#10;- % cuarentena: 23.08%&#10;&#10;Top productos (importe / unidades):&#10;&#10;|id_producto|importe|unidades|&#10;|---|---|---|&#10;|P001|5800.0|2|&#10;|P005|3500.0|1|&#10;|P009|2800.0|1|&#10;|P002|2100.0|1|&#10;|P010|1300.0|2|&#10;|P003|1260.0|3|&#10;|P020|1250.0|1|&#10;|P012|960.0|2|&#10;|P006|900.0|5|&#10;|P015|890.0|1|&#10;&#10;Ventas por día (importe_total / líneas):&#10;&#10;|fecha|importe_total|lineas|&#10;|---|---|---|&#10;|2025-07-07|24745.0|42.0|&#10;&#10;# 7. Lecciones&#10;Mantener trazabilidad (_ingest_ts, _source_file, _batch_id) simplifica idempotencia y auditoría. Dedupe por timestamp evita duplicados. Separar clean vs quarantine permite mejorar reglas sin perder visibilidad.&#10;&#10;# 8. Próximos pasos&#10;Persistir y ampliar capa oro (más agregados), añadir tests automáticos de % quarantine, validar catálogo completo de productos, documentación de SLA.&#10;" />
              <option name="updatedContent" value="---&#10;title: &quot;Plantilla entregable — Proyecto UT1 RA1&quot;&#10;tags: [&quot;UT1&quot;,&quot;RA1&quot;,&quot;docs&quot;]&#10;version: &quot;1.0.1&quot;&#10;owner: &quot;equipo-alumno&quot;&#10;status: &quot;final&quot;&#10;---&#10;&#10;# 1. Objetivo&#10;Transformar los CSV de ventas, productos y clientes en datos limpios (plata) y agregados (oro) para responder preguntas básicas del negocio con trazabilidad y calidad.&#10;&#10;# 2. Alcance&#10;Incluye ingestión batch, limpieza (tipado, validaciones y deduplicación “último gana”), cuarentena de filas inválidas y generación de artefactos analíticos en SQLite y Parquet.&#10;&#10;# 3. Reglas principales&#10;- Clave natural de ventas: (fecha, id_cliente, id_producto).&#10;- Validaciones: fecha ISO, unidades y precio_unitario mayores o iguales que 0; id_producto con formato ^P[0-9]+$.&#10;- Trazabilidad: _source_file, _ingest_ts, _batch_id en todas las capas.&#10;&#10;# 4. Procedimiento&#10;Ejecutar el pipeline y revisar los artefactos generados en project/output.&#10;&#10;# 5. Evidencias&#10;- Filas bronce (raw): 26&#10;- Filas plata (clean): 20&#10;- Filas cuarentena: 6&#10;- Periodo cubierto: 2025-07-07 → 2025-07-07&#10;&#10;# 6. Resultados&#10;- Ingresos totales: 24745.00&#10;- Ticket medio: 1237.25&#10;- Transacciones: 20&#10;- Porcentaje a cuarentena: 23.08%&#10;&#10;Top productos (importe / unidades):&#10;&#10;|id_producto|importe|unidades|&#10;|---|---|---|&#10;|P001|5800.0|2|&#10;|P005|3500.0|1|&#10;|P009|2800.0|1|&#10;|P002|2100.0|1|&#10;|P010|1300.0|2|&#10;|P003|1260.0|3|&#10;|P020|1250.0|1|&#10;|P012|960.0|2|&#10;|P006|900.0|5|&#10;|P015|890.0|1|&#10;&#10;Ventas por día (importe_total / líneas):&#10;&#10;|fecha|importe_total|lineas|&#10;|---|---|---|&#10;|2025-07-07|24745.0|42.0|&#10;&#10;# 7. Lecciones&#10;La trazabilidad facilita auditoría y reejecución del proceso. La deduplicación por timestamp evita duplicados. Separar clean y cuarentena permite mejorar reglas sin perder información.&#10;&#10;# 8. Próximos pasos&#10;Profundizar en el modelado oro, añadir validaciones automáticas y revisar la cobertura del catálogo de productos." />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/tmp_check_notebook.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/tmp_check_notebook.py" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="# archivo temporal eliminado (vacio)" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>